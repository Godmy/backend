Generic single-database configuration.

# Создаем начальную миграцию
alembic revision --autogenerate -m "Initial migration"

# Применяем миграцию
alembic upgrade head


alembic revision --autogenerate -m "Add authors table"
alembic upgrade head

# Сборка и запуск
docker-compose up --build

# Запуск в фоновом режиме
docker-compose up -d

# Просмотр логов
docker-compose logs -f

# Остановка
docker-compose down

# Остановка с удалением volumes
docker-compose down -v


# Проверка контейнеров
docker ps

# Проверка логов БД
docker-compose logs db

# Проверка логов приложения
docker-compose logs app

# Тестирование подключения к БД
docker exec -it attractors_db psql -U attractor_user -d attractors -c "SELECT version();"

# Установка клода в терминал
npm install -g @anthropic-ai/claude-code

# Удалим том базы данных и перезапустим:
docker-compose down -v
docker-compose up --build


# Запуск dev сборки, которая поддерживает синхронизацию томов в контейнере.
docker-compose -f docker-compose.dev.yml up -d --build

  # Вариант 1: Только backend для разработки
  docker-compose -f docker-compose.dev.yml up -d --build backend db redis

  # Вариант 2: Полный стек
  docker-compose -f docker-compose.dev.yml up -d --build



  docker-compose -f docker-compose.dev.yml restart backend