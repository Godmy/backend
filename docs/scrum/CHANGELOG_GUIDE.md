# Руководство по ведению журнала изменений (Changelog Guide)

Этот документ описывает процесс ведения журнала изменений проекта (`changelog.md`) в соответствии с принципами Atomic Design. Цель — обеспечить структурированное, понятное и легко поддерживаемое описание эволюции проекта.

## 1. Концепция Atomic Design для Changelog

*   **Атом (Atom):** Единичное, самодостаточное изменение, задача или исправление из бэклога. Это наименьшая значимая единица работы.
    *   *Примеры:* "Исправить баг в авторизации", "Добавить новый эндпоинт `/health`", "Обновить версию библиотеки `requests`".
    *   *Источники:* Задачи из систем управления проектами (Jira, GitHub Issues), коммиты.
    *   *Содержание:* Краткое описание изменения, возможно, ссылка на соответствующую задачу.

*   **Молекула (Molecule):** Файл релиза, который объединяет несколько связанных "атомов" и предоставляет контекст для конкретного релиза или значимой фичи. Молекула обогащает атомы, связывая их с более широкой документацией.
    *   *Расположение:* `packages/backend/docs/release/` (для бэкенда) или аналогичная папка для других частей проекта.
    *   *Именование:* `YYYYMMDD-#-Название-Релиза.md`, где `YYYYMMDD` — дата релиза, `#` — порядковый номер (инкрементируется для релизов в один день), `Название-Релиза` — краткое, читаемое название релиза (используйте дефисы вместо пробелов).
    *   *Содержание:*
        *   Заголовок релиза.
        *   Общее описание релиза.
        *   Список "атомов" (задач/изменений) с кратким описанием и ссылками на бэклог.
        *   Разделы для ссылок на сопутствующую документацию: FSD (Functional Specification Document), ADR (Architectural Decision Record), Guides, Docker, Yarn (или другие специфичные для проекта).

*   **Организм (Organism):** Основной файл `changelog.md`, который представляет собой высокоуровневый, хронологический обзор всех релизов. Он состоит из таблицы, где каждая строка — это ссылка на "молекулу" (файл релиза).
    *   *Расположение:* `packages/backend/docs/scrum/changelog.md` (для бэкенда) или аналогичная папка.
    *   *Содержание:* Таблица с колонками "Дата", "Название Релиза", "Подробности" (ссылка на файл-молекулу).

## 2. Процесс создания новой записи о релизе

1.  **Определите атомы:** Соберите все атомарные изменения (задачи, баги, фичи), которые войдут в текущий релиз.
2.  **Создайте файл-молекулу:**
    *   Выберите подходящую дату и порядковый номер. Например, если сегодня 30 октября 2025 года и это первый релиз за день, имя файла будет `20251030-1-Название-Релиза.md`.
    *   Создайте файл в папке `packages/backend/docs/release/`.
    *   Заполните его по следующему шаблону:

        ```markdown
        # YYYYMMDD-#-Название-Релиза

        ## Описание Релиза

        [Краткое описание того, что включает этот релиз.]

        ## Атомы (Задачи/Изменения)

        *   **[КОД-ЗАДАЧИ-1]** [Краткое описание атома 1].
            *   *Описание:* [Более подробное описание изменения].
            *   *Ссылка на бэклог:* [Ссылка на Jira/GitHub Issue КОД-ЗАДАЧИ-1]
        *   **[КОД-ЗАДАЧИ-2]** [Краткое описание атома 2].
            *   *Описание:* [Более подробное описание изменения].
            *   *Ссылка на бэклог:* [Ссылка на Jira/GitHub Issue КОД-ЗАДАЧИ-2]
        ...

        ## Ссылки на Документацию

        ### FSD (Functional Specification Document)

        *   [Название FSD](путь/к/FSD.md)

        ### ADR (Architectural Decision Record)

        *   [Название ADR](путь/к/ADR.md)

        ### Guides (Руководства)

        *   [Название Руководства](путь/к/руководству.md)

        ### Docker

        *   [Описание изменений в Docker-конфигурации, если применимо]

        ### Yarn (или другие менеджеры пакетов)

        *   [Описание изменений в зависимостях, если применимо]
        ```

3.  **Обновите `changelog.md` (Организм):**
    *   Откройте файл `packages/backend/docs/scrum/changelog.md`.
    *   Добавьте новую строку в таблицу, указывающую на созданный файл-молекулу. Убедитесь, что ссылка корректна и ведет к файлу в папке `release`.

        ```markdown
        | Дата       | Название Релиза | Подробности                                  |
        | :--------- | :-------------- | :------------------------------------------- |
        | YYYY-MM-DD | Название Релиза | [Подробнее](release/YYYYMMDD-#-Название-Релиза.md) |
        ```

## 3. Процесс рефакторинга существующей документации

Если у вас есть существующие документы, которые должны стать файлами-молекулами, следуйте этим шагам:

1.  **Определите существующий документ:** Выберите файл, который нужно рефакторить.
2.  **Проанализируйте содержимое:** Прочитайте документ и выделите из него:
    *   Общее описание релиза/фичи.
    *   Конкретные изменения (атомы).
    *   Ссылки на другую документацию или технические детали.
3.  **Создайте новый файл-молекулу:**
    *   Переименуйте существующий файл в соответствии с соглашением `YYYYMMDD-#-Название-Релиза.md`. Постарайтесь определить наиболее подходящую дату и название из содержимого документа. Если дата неясна, используйте текущую дату или дату, когда изменение было актуально.
    *   Переместите переименованный файл в папку `packages/backend/docs/release/`.
    *   Отредактируйте содержимое файла, чтобы оно соответствовало шаблону молекулы (см. раздел 2, пункт 2). Разделите информацию на "Описание Релиза", "Атомы" и "Ссылки на Документацию".
4.  **Обновите `changelog.md` (Организм):**
    *   Добавьте новую строку в таблицу `changelog.md`, ссылающуюся на ваш только что созданный файл-молекулу.
    *   Если исходный документ находился в `changelog.md` или другой папке, удалите его оттуда, чтобы избежать дублирования.

## 4. Рекомендации

*   **Будьте последовательны:** Всегда следуйте этому руководству для поддержания единообразия.
*   **Используйте относительные пути:** Для ссылок внутри документации используйте относительные пути, чтобы обеспечить их работоспособность при перемещении или изменении структуры.
*   **Краткость и ясность:** Описания должны быть краткими, но информативными.
*   **Регулярное обновление:** Обновляйте `changelog.md` и создавайте новые молекулы по мере завершения релизов или значимых этапов работы.
