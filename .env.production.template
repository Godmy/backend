# ==============================================================================
# Production Environment Template
# Task: #28 - Secrets Management
# ==============================================================================
#
# This template uses placeholders that will be replaced with GitHub Secrets
# or environment variables during deployment.
#
# DO NOT commit this file with actual secrets!
#
# For GitHub Actions deployment, set these as repository secrets:
# Settings → Secrets and variables → Actions → New repository secret
# ==============================================================================

# ==============================================================================
# JWT Configuration (CRITICAL - MUST CHANGE!)
# ==============================================================================
# Generate strong secret: openssl rand -hex 32
JWT_SECRET_KEY=${JWT_SECRET_KEY}
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ==============================================================================
# Database Configuration
# ==============================================================================
DB_HOST=${DB_HOST}
DB_PORT=${DB_PORT:-5432}
DB_NAME=${DB_NAME}
DB_USER=${DB_USER}
DB_PASSWORD=${DB_PASSWORD}

# ==============================================================================
# Redis Configuration
# ==============================================================================
REDIS_HOST=${REDIS_HOST}
REDIS_PORT=${REDIS_PORT:-6379}
REDIS_DB=0
REDIS_PASSWORD=${REDIS_PASSWORD}

# ==============================================================================
# Application Configuration
# ==============================================================================
APP_HOST=0.0.0.0
APP_PORT=8000
DEBUG=False
ENVIRONMENT=production
SEED_DATABASE=false

# ==============================================================================
# CORS Configuration
# ==============================================================================
# Comma-separated list of allowed origins
ALLOWED_ORIGINS=${ALLOWED_ORIGINS}

# ==============================================================================
# Email Configuration (Production SMTP)
# ==============================================================================
SMTP_HOST=${SMTP_HOST}
SMTP_PORT=${SMTP_PORT:-587}
SMTP_USERNAME=${SMTP_USERNAME}
SMTP_PASSWORD=${SMTP_PASSWORD}
SMTP_USE_TLS=True
FROM_EMAIL=${FROM_EMAIL}

# ==============================================================================
# Frontend URL
# ==============================================================================
FRONTEND_URL=${FRONTEND_URL}

# ==============================================================================
# OAuth Configuration (Optional)
# ==============================================================================
GOOGLE_CLIENT_ID=${GOOGLE_CLIENT_ID:-}
GOOGLE_CLIENT_SECRET=${GOOGLE_CLIENT_SECRET:-}
TELEGRAM_BOT_TOKEN=${TELEGRAM_BOT_TOKEN:-}

# ==============================================================================
# File Upload
# ==============================================================================
UPLOAD_DIR=uploads
EXPORT_DIR=exports

# ==============================================================================
# Sentry Error Tracking (Optional but Recommended)
# ==============================================================================
SENTRY_DSN=${SENTRY_DSN:-}
SENTRY_ENABLE_TRACING=true
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_RELEASE=${SENTRY_RELEASE:-}
SENTRY_DEBUG=false

# ==============================================================================
# Logging Configuration
# ==============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_DIR=logs
LOG_FILE_ENABLED=false
LOG_ROTATION_SIZE_MB=10
LOG_ROTATION_BACKUP_COUNT=5

# ==============================================================================
# Rate Limiting
# ==============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_AUTH_PER_MINUTE=100
RATE_LIMIT_ANON_PER_MINUTE=20
RATE_LIMIT_WHITELIST_IPS=127.0.0.1,::1
RATE_LIMIT_EXCLUDE_PATHS=/health,/metrics
RATE_LIMIT_ENDPOINT_LIMITS={}

# ==============================================================================
# HTTP Caching
# ==============================================================================
CACHE_CONTROL_ENABLED=true
CACHE_CONTROL_QUERY_MAX_AGE=60
CACHE_CONTROL_DEFAULT_MAX_AGE=30
CACHE_CONTROL_EXCLUDE_PATHS=/metrics

# ==============================================================================
# Graceful Shutdown
# ==============================================================================
SHUTDOWN_TIMEOUT=30
